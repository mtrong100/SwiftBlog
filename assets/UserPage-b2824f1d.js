import{j as s,H as n,r as t,_ as b,d as v,I as w}from"./index-73878708.js";import{a as y}from"./Layout-76a6f230.js";import{H as N}from"./Heading-178aac5a.js";import D from"./NotFoundPage-bd05c3e7.js";import{B as S,a as k}from"./BlogMeta-79ada34d.js";import{L as R}from"./LabelRole-3d400287.js";import{u as a}from"./constants-c6ed1daf.js";import{A as U}from"./index.esm-5b8dc22c.js";import{v as d}from"./v4-a960c1f4.js";import"./data-e666bb0d.js";import"./Button-e76cae7b.js";import"./index.esm-92eb5b9a.js";const A=({data:e})=>{var c,o;if(!e.id)return s.jsx(D,{});const i=(c=e==null?void 0:e.createdAt)!=null&&c.seconds?new Date(((o=e==null?void 0:e.createdAt)==null?void 0:o.seconds)*1e3):new Date,l=new Date(i).toLocaleDateString("vi-VI");return s.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-5 mx-auto lg:p-10 rounded-xl dark:text-white text-text1 bg-graySoft dark:bg-colorDarkRedux",children:[s.jsx(R,{type:e==null?void 0:e.role,children:e==null?void 0:e.role}),s.jsx(S,{size:"circle",className:"my-5 mb-2 border-2 rounded-full",url:e==null?void 0:e.avatar,alt:"blog-img"}),s.jsx(k,{className:"flex-col mt-2 text-xs md:text-base",path:e==null?void 0:e.slug,date:l,author:e==null?void 0:e.username})]})},I=({users:e})=>Array(e).fill(0).map(i=>s.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full gap-3 p-5 mx-auto user-card md:gap-8 glass rounded-xl bg-colorDarkRedux",children:[s.jsx(n,{width:80,height:32}),s.jsx(n,{width:150,height:150,borderRadius:100}),s.jsx("div",{className:"flex flex-col items-center justify-center gap-3",children:s.jsx(n,{width:170,height:30})})]},d())),q=()=>{const[e,i]=t.useState([]),[l,c]=t.useState("all"),[o,f]=t.useState(""),[p,h]=t.useState(!0);t.useEffect(()=>{async function r(){const g=b(v,"users");w(g,j=>{let u=[];j.forEach(m=>{u.push({id:m.id,...m.data()})}),i(u),h(!1)})}r()},[]);const x=e.filter(r=>r.username.toLowerCase().includes(o.toLowerCase())).filter(r=>l==="all"?!0:r.role===l);return t.useEffect(()=>{document.body.scrollIntoView({behavior:"smooth",block:"start"})},[]),s.jsx(y,{children:s.jsxs("div",{className:"page-container py-[150px]",children:[s.jsx(N,{children:"All users"}),s.jsxs("div",{className:"flex flex-col-reverse gap-5 mt-5 md:gap-10 md:items-center md:justify-between md:flex-row",children:[s.jsxs("select",{className:"py-2 w-[150px] text-lg border border-solid rounded bg-grayf3 text-text1 dark:text-white dark:bg-colorDarkRedux border-text3",value:l,onChange:r=>c(r.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:a.ADMIN,children:"ADMIN"}),s.jsx("option",{value:a.MOD,children:"MOD"}),s.jsx("option",{value:a.USER,children:"USER"})]}),s.jsxs("div",{className:"w-full flex items-center py-4 px-5 gap-3 md:max-w-[320px] border-2 border-solid rounded-full border-text3 text-text1 dark:text-white ",children:[s.jsx("span",{className:"text-2xl",children:s.jsx(U,{})}),s.jsx("input",{value:o,onChange:r=>f(r.target.value),type:"text",className:"w-full",placeholder:"Search post..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-10 md:grid-cols-3 lg:grid-cols-4",children:[p&&s.jsx(I,{users:8}),x.length>0&&x.map(r=>s.jsx(A,{data:r},d()))]})]})})};export{q as default};
