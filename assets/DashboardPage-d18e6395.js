import{j as e,S as a,u as N,r as l,_ as k,d as y,R as D,b as S,I as R}from"./index-7b34d9b5.js";import{H as d}from"./Heading-477794ce.js";import{P as h}from"./Button-3187d7fe.js";import{L as P}from"./LabelRole-20b8c525.js";import{B as E,a as u}from"./BlogItem-29df9e14.js";import{v as L}from"./v4-a960c1f4.js";import"./BlogMeta-8e19eaae.js";import"./slugify-94ae0324.js";import"./NotFoundPage-717f1419.js";const n=({userInfo:t,formatDate:s})=>e.jsxs("div",{className:"flex flex-col items-center gap-5 px-8 py-5 mt-10 rounded-md shadow-md md:flex-row bg-whiteSoft text-text1 dark:text-white dark:bg-colorDarkRedux",children:[e.jsx("img",{className:"w-[250px] object-cover h-[250px] rounded-full",src:t==null?void 0:t.avatar,alt:"userInfo-avatar"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(d,{line:!1,textDecor:"capitalize",children:t.username}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{children:"Email:"}),e.jsx("span",{className:" hover:opacity-90 text-text2 dark:text-colorSaga",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{children:"Pasword:"}),e.jsx("span",{className:" hover:opacity-90 text-text2 dark:text-colorSaga",children:t==null?void 0:t.password})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[e.jsx(P,{type:t==null?void 0:t.role,children:t==null?void 0:t.role}),e.jsx("span",{className:"font-semibold select-none text-text1 dark:text-white hover:opacity-90",children:`Date: ${s}`})]})]})]});n.propTypes={userInfo:h.any,formatDate:h.any};const A=()=>e.jsxs("div",{className:"flex flex-col items-center gap-5 px-8 py-5 mt-10 rounded-md shadow-md md:flex-row bg-whiteSoft text-text1 dark:text-white dark:bg-colorDarkRedux",children:[e.jsx(a,{width:250,height:250,borderRadius:1e3}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(a,{width:230,height:60}),e.jsx("div",{className:"flex items-center gap-2 font-semibold",children:e.jsx(a,{width:180,height:25})}),e.jsx("div",{className:"flex items-center gap-2 font-semibold",children:e.jsx("span",{className:" hover:opacity-90 text-text2 dark:text-colorSaga",children:e.jsx(a,{width:180,height:25})})}),e.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[e.jsx(a,{width:80,height:32}),e.jsx(a,{width:120,height:30})]})]})]}),$=()=>{var c,o;const{userInfo:t}=N(),[s,p]=l.useState([]),[r,g]=l.useState(!0);l.useEffect(()=>{async function i(){if(!t.uid)return;const w=k(y,"posts"),b=D(w,S("user.id","==",t.uid));R(b,f=>{const x=[];f.forEach(m=>{x.push({id:m.id,...m.data()})}),p(x),g(!1)})}i()},[t.uid]);const j=(c=t==null?void 0:t.createdAt)!=null&&c.seconds?new Date(((o=t==null?void 0:t.createdAt)==null?void 0:o.seconds)*1e3):new Date,v=new Date(j).toLocaleDateString("vi-VI");return e.jsxs(e.Fragment,{children:[e.jsx(d,{children:"personal dashboard"}),r?e.jsx(A,{}):e.jsx(n,{userInfo:t,formatDate:v}),e.jsxs("div",{className:"mt-16",children:[e.jsx(d,{children:"your blogs"}),e.jsxs("div",{className:"grid gap-5 mt-10 md:grid-cols-2 lg:grid-cols-3",children:[r&&e.jsx(E,{Imageheight:220,blogs:6}),s.length>0&&s.map(i=>e.jsx(u,{data:i},L()))]})]})]})};export{$ as default};
