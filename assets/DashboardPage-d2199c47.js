import{j as e,u as y,r as l,_ as D,d as N,R as f,b as k,I as S}from"./index-73878708.js";import{H as i}from"./Heading-178aac5a.js";import{P as m}from"./Button-e76cae7b.js";import{L as P}from"./LabelRole-3d400287.js";import{B as R,a as E}from"./BlogItem-1827caeb.js";import{v as L}from"./v4-a960c1f4.js";import"./BlogMeta-79ada34d.js";import"./slugify-5a8ede35.js";import"./NotFoundPage-bd05c3e7.js";const x=({userInfo:t,formatDate:a})=>e.jsxs("div",{className:"flex flex-col items-center gap-5 px-8 py-5 mt-10 rounded-md shadow-md md:flex-row bg-whiteSoft text-text1 dark:text-white dark:bg-colorDarkRedux",children:[e.jsx("img",{className:"w-[250px] object-cover h-[250px] rounded-full",src:t==null?void 0:t.avatar,alt:"userInfo-avatar"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(i,{line:!1,textDecor:"capitalize",children:t.username}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{children:"Email:"}),e.jsx("span",{className:" hover:opacity-90 text-text2 dark:text-colorSaga",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{children:"Pasword:"}),e.jsx("span",{className:" hover:opacity-90 text-text2 dark:text-colorSaga",children:t==null?void 0:t.password})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-2",children:[e.jsx(P,{type:t==null?void 0:t.role,children:t==null?void 0:t.role}),e.jsx("span",{className:"font-semibold select-none text-text1 dark:text-white hover:opacity-90",children:`Date: ${a}`})]})]})]});x.propTypes={userInfo:m.any,formatDate:m.any};const V=()=>{var c,d;const{userInfo:t}=y(),[a,n]=l.useState([]),[p,h]=l.useState(!0);l.useEffect(()=>{async function s(){if(!t.uid)return;const v=D(N,"posts"),b=f(v,k("user.id","==",t.uid));S(b,w=>{const r=[];w.forEach(o=>{r.push({id:o.id,...o.data()})}),n(r),h(!1)})}s()},[t.uid]);const g=(c=t==null?void 0:t.createdAt)!=null&&c.seconds?new Date(((d=t==null?void 0:t.createdAt)==null?void 0:d.seconds)*1e3):new Date,j=new Date(g).toLocaleDateString("vi-VI");return e.jsxs(e.Fragment,{children:[e.jsx(i,{children:"personal dashboard"}),e.jsx(x,{userInfo:t,formatDate:j}),e.jsxs("div",{className:"mt-16",children:[e.jsx(i,{children:"your blogs"}),e.jsxs("div",{className:"grid gap-5 mt-10 md:grid-cols-2 lg:grid-cols-3",children:[p&&e.jsx(R,{Imageheight:220,blogs:6}),a.length>0&&a.map(s=>e.jsx(E,{data:s},L()))]})]})]})};export{V as default};
